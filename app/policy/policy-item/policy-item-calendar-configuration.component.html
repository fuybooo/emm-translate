<div>
  <div class="policy-version-box">
    <ng-container>iOS5.0+</ng-container>
  </div>
  <div *ngFor="let form of forms; let i = index;" class="policy-item-content-block">
    <div class="policy-item-add-or-sub">
      <button nz-button [nzType]="'default'" (click)="add()">
        <span>+</span>
      </button>
      <button nz-button [nzType]="'default'" (click)="del(i)">
        <span>-</span>
      </button>
    </div>
    <form nz-form [formGroup]="form" [nzLayout]="'vertical'">
      <div nz-form-item nz-row>
        <div nz-form-label nz-col>
          <label class="w320i">帐户描述</label>
          <p class="text-tip">帐户的显示名称（例如：“公司CalDAV帐户”）</p>
        </div>
        <div nz-col nz-form-control [nzValidateStatus]="getFormControl(i, 'CalDAVAccountDescription')">
          <input class="w320i" formControlName="CalDAVAccountDescription" nz-input placeholder="我的CalDAVA账户" [nzDisabled]="type === 'view'"
                 [nzSize]="'large'">

        </div>
      </div>
      <div nz-form-item nz-row>
        <div nz-form-label nz-col>
          <label nz-form-item-required>帐户主机名和端口</label>
          <p class="text-tip">CalDAV的主机名或IP及端口</p>
        </div>
        <div class="w320i">
          <div nz-form-control>
            <div nz-col [nzSpan]="17">
              <div nz-form-item nz-row>
                <div>
                  <div nz-form-control [nzValidateStatus]="getFormControl(i, 'CalDAVHostName')">
                    <input class="w" formControlName="CalDAVHostName" nz-input [nzDisabled]="type === 'view'" nz-input placeholder="[必填]"
                           [nzSize]="'large'">
                    <div nz-form-explain
                         *ngIf="getFormControl(i, 'CalDAVHostName').dirty&&getFormControl(i, 'CalDAVHostName').hasError('required')">
                      必填项不能为空
                    </div>
                    <div nz-form-explain
                         *ngIf="getFormControl(i, 'CalDAVHostName').dirty&&getFormControl(i, 'CalDAVHostName').hasError('maxlength')">
                      不能超过255个字！
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div nz-col [nzSpan]="1">
              <p nz-form-split>：</p>
            </div>
            <div nz-col [nzSpan]="6">
              <div nz-form-item nz-row>
                <div>
                  <div nz-form-control [nzValidateStatus]="getFormControl(i, 'CalDAVPort')">
                    <nz-input-number class="w pl1i policy-port" formControlName="CalDAVPort" [nzSize]="'large'" [nzDisabled]="type === 'view'"
                                     [nzMin]="0" [nzMax]="65535" [nzStep]="1"></nz-input-number>
                    <div nz-form-explain
                         *ngIf="getFormControl(i, 'CalDAVPort').dirty&&getFormControl(i, 'CalDAVPort').hasError('required')">
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div nz-form-item nz-row>
        <div nz-form-label nz-col>
          <label class="w320i">主体URL</label>
          <p class="text-tip">CalDAV账户的主体URL</p>
        </div>
        <div nz-col nz-form-control [nzValidateStatus]="getFormControl(i, 'CalDAVUsername')">
          <input class="w320i" formControlName="CalDAVUsername" nz-input [nzDisabled]="type === 'view'" nz-input placeholder="[可选]"
                 [nzSize]="'large'">
        </div>
      </div>
      <div nz-form-item nz-row>
        <div nz-form-label nz-col>
          <label class="w320i">账户用户名</label>
          <p class="text-tip">CalDAV用户名</p>
        </div>
        <div nz-col nz-form-control [nzValidateStatus]="getFormControl(i, 'CalDAVUsername')">
          <input class="w320i" formControlName="CalDAVUsername" nz-input [nzDisabled]="type === 'view'" nz-input placeholder="[在设备上设置]"
                 [nzSize]="'large'">
        </div>
      </div>
      <div nz-form-item nz-row>
        <div nz-form-label nz-col>
          <label class="w320i">帐户密码</label>
          <p class="text-tip">CalDAV密码</p>
        </div>
        <div nz-col nz-form-control [nzValidateStatus]="getFormControl(i, 'CalDAVPassword')">
          <input type="password" class="w320i" formControlName="CalDAVPassword" nz-input [nzDisabled]="type === 'view'" nz-input placeholder="[可选]"
                 [nzSize]="'large'" [nzDisabled]="type === 'view'">
        </div>
      </div>
      <div nz-form-item nz-row>
        <div nz-form-label nz-col>
          <label nz-checkbox [nzDisabled]="type === 'view'" formControlName="CalDAVUseSSL">
            <span>使用SSL</span>
          </label>
          <p class="text-tip">启用与 CalDAV 服务器的安全套接字层通信</p>
        </div>
      </div>
    </form>
  </div>
</div>
